on:
    push:
      branches:
        - main

jobs:
    update-readme:
      runs-on: ubuntu-latest
      permissions:
        contents: write
      steps:
        - uses: actions/checkout@v4
        - uses: actions/setup-python@v5
          with:
            python-version: 3.11
        - name: Install
          run: |
            python -m pip install -U pip
            pip install --progress-bar off .
        - run: python update_readme.py
        - uses: stefanzweifel/git-auto-commit-action@v5
          with:
            commit_message: Update list in README
            file_pattern: README.md
